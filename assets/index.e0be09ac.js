var t,e,s=Object.defineProperty,i=Object.prototype.hasOwnProperty,o=Object.getOwnPropertySymbols,n=Object.prototype.propertyIsEnumerable,r=(t,e,i)=>e in t?s(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i,a=(t,e)=>{for(var s in e||(e={}))i.call(e,s)&&r(t,s,e[s]);if(o)for(var s of o(e))n.call(e,s)&&r(t,s,e[s]);return t};import{d as l,r as d,u as c,c as m,w as u,v as p,a as I,b,e as v,p as g,f as T,o as L,g as f,h,t as y,i as w,F as _,j as O,k as D,l as j,m as k,n as C,q as S,s as R}from"./vendor.3ecf2acd.js";!function(t=".",e="__import__"){try{self[e]=new Function("u","return import(u)")}catch(s){const i=new URL(t,location),o=t=>{URL.revokeObjectURL(t.src),t.remove()};self[e]=t=>new Promise(((s,n)=>{const r=new URL(t,i);if(self[e].moduleMap[r])return s(self[e].moduleMap[r]);const a=new Blob([`import * as m from '${r}';`,`${e}.moduleMap['${r}']=m;`],{type:"text/javascript"}),l=Object.assign(document.createElement("script"),{type:"module",src:URL.createObjectURL(a),onerror(){n(new Error(`Failed to import: ${t}`)),o(l)},onload(){s(self[e].moduleMap[r]),o(l)}});document.head.appendChild(l)})),self[e].moduleMap={}}}("/JustToDo/assets/");var $={mutations:{toggleDone(t,e){const s=t.lists[t.currentListId].items.find((t=>t.id===e));s&&(s.done=!s.done)},editTitle(t,{id:e,newTitle:s}){const i=t.lists[t.currentListId].items.find((t=>t.id===e));i&&(i.title=s)},editDescription(t,{id:e,newDesc:s}){const i=t.lists[t.currentListId].items.find((t=>t.id===e));i&&(i.description=s)}}};class N{constructor({title:t,description:e}){this.id=`id${Date.now()}`,this.title=null!=t?t:"Empty title",this.description=null!=e?e:"",this.done=!1,this.repeat=!1,this.createTime=Date.now(),this.editTime=Date.now()}}var E={mutations:{addTodoItem(t,{title:e}){const s=new N({title:e});t.lists[t.currentListId].items.push(s)},removeTodoItem(t,{id:e}){const{items:s}=t.lists[t.currentListId],i=s.findIndex((t=>t.id===e));s.splice(i,1)}}};const U=t=>{const e=localStorage.getItem("currentListId");e?t.commit("setCurrentListId",e):localStorage.setItem("currentListId",t.state.currentListId),Object.keys(t.state.lists).forEach((e=>{const s=localStorage.getItem(`list_${e}`);s?t.commit("setList",{id:e,list:JSON.parse(s)}):localStorage.setItem(`list_${e}`,JSON.stringify(t.state.lists[e]))})),t.subscribe(((t,e)=>{switch(console.log(t),t.type){case"setCurrentListId":localStorage.setItem("currentListId",t.payload);break;case"addTodoItem":case"toggleDone":case"removeTodoItem":case"editTitle":case"editDescription":localStorage.setItem(`list_${e.currentListId}`,JSON.stringify(e.lists[e.currentListId]));break;default:console.log("unknown mutation")}}))},x={currentListId:"list1",lists:{list1:{title:"List 1",description:"List description 1",items:[{id:"todo1",title:"Todo 1",description:"Todo description 1",done:!1,repeat:!1,createTime:0,editTime:0},{id:"todo2",title:"Todo 2",description:"",done:!0,repeat:!1,createTime:0,editTime:0}]},list2:{title:"List 2",description:"",items:[]}}},M=localStorage.getItem("state"),J=M?JSON.parse(M):{},P={currentListId:null!=(t=J.currentListId)?t:x.currentListId,lists:null!=(e=J.lists)?e:x.lists};var F={state:()=>P,getters:{getTabs:t=>Object.keys(t.lists).map((e=>({id:e,title:t.lists[e].title,description:t.lists[e].description})))},mutations:a(a({setCurrentListId(t,e){t.currentListId=e},setList(t,{id:e,list:s}){t.lists[e]=s}},E.mutations),$.mutations),plugins:[U]},H=l({name:"Input",setup(){const t=d(""),e=c();return{input:t,addTodoItem:()=>{e.commit("addTodoItem",{title:t.value}),t.value=""}}}});const q=v();g("data-v-0c8c3bc6");const K=I("button",null,"➕",-1);T();const V=q(((t,e,s,i,o,n)=>(L(),m("form",{onSubmit:e[2]||(e[2]=b(((...e)=>t.addTodoItem&&t.addTodoItem(...e)),["prevent"]))},[u(I("input",{"onUpdate:modelValue":e[1]||(e[1]=e=>t.input=e),type:"text"},null,512),[[p,t.input]]),K],32))));H.render=V,H.__scopeId="data-v-0c8c3bc6";var A=l({name:"Tab",props:{tab:{type:Object,required:!0}}});const B=v(),z=B(((t,e,s,i,o,n)=>{const r=f("RouterLink");return L(),m("li",{class:"tab",title:t.tab.description},[I(r,{to:`/list/${t.tab.id}`,class:"tab__link"},{default:B((()=>[h(y(t.tab.title),1)])),_:1},8,["to"])],8,["title"])}));A.render=z,A.__scopeId="data-v-6a874248";var G=l({name:"Nav",components:{Tab:A},setup(){const t=c();return{tabs:w((()=>t.getters.getTabs))}}});const Q=v()(((t,e,s,i,o,n)=>{const r=f("Tab");return L(),m("nav",null,[I("ul",null,[(L(!0),m(_,null,O(t.tabs,(t=>(L(),m(r,{key:t.id,tab:t},null,8,["tab"])))),128))])])}));G.render=Q,G.__scopeId="data-v-4dcb4856";var W=l({name:"Header",components:{Input:H,Nav:G}});const X=v()(((t,e,s,i,o,n)=>{const r=f("Input"),a=f("Nav");return L(),m("header",null,[I(r),I(a)])}));W.render=X,W.__scopeId="data-v-6283015f";var Y=l({name:"App",components:{Header:W}});Y.render=function(t,e,s,i,o,n){const r=f("Header"),a=f("RouterView");return L(),m(_,null,[I(r),I(a)],64)};var Z=l({name:"TodoItem",props:{item:{type:Object,default:new N({})}},emits:["remove-todo-item"],setup(t){const e=c();return{toggleDone:()=>e.commit("toggleDone",t.item.id),onTitleChange:s=>{const i=null==s?void 0:s.target;e.commit("editTitle",{id:t.item.id,newTitle:i.innerText})},onDescriptionChange:s=>{const i=null==s?void 0:s.target;e.commit("editDescription",{id:t.item.id,newDesc:i.innerText})}}}});const tt=v();g("data-v-d824be92");const et=I("div",{class:"action-button"},"✔️",-1);T();const st=tt(((t,e,s,i,o,n)=>(L(),m("li",null,[I("main",null,[I("h3",{class:t.item.done?"done":"",contenteditable:"",onKeydown:e[1]||(e[1]=D(b(((...e)=>t.onTitleChange&&t.onTitleChange(...e)),["prevent"]),["enter"]))},y(t.item.title),35),t.item.description?(L(),m("p",{key:0,contenteditable:"",onKeydown:e[2]||(e[2]=D(b(((...e)=>t.onDescriptionChange&&t.onDescriptionChange(...e)),["prevent"]),["enter"]))},y(t.item.description),33)):j("",!0)]),I("label",null,[et,I("input",{type:"checkbox",onChange:e[3]||(e[3]=(...e)=>t.toggleDone&&t.toggleDone(...e))},null,32)]),I("button",{class:"action-button",onClick:e[4]||(e[4]=e=>t.$emit("remove-todo-item"))}," ❌ ")]))));Z.render=st,Z.__scopeId="data-v-d824be92";var it=l({name:"List",components:{TodoItem:Z},setup(){const t=c();return{list:w((()=>t.state.lists[t.state.currentListId])),onRemoveTodoItem:e=>{t.commit("removeTodoItem",{id:e})}}}});const ot=v()(((t,e,s,i,o,n)=>{var r;const a=f("TodoItem");return L(),m("main",null,[I("h1",null,y(t.list.title),1),I("p",null,y(null!=(r=t.list.description)?r:"NO"),1),I("ul",null,[(L(!0),m(_,null,O(t.list.items,(e=>(L(),m(a,{key:e.id,item:e,onRemoveTodoItem:s=>t.onRemoveTodoItem(e.id)},null,8,["item","onRemoveTodoItem"])))),128))])])}));it.render=ot,it.__scopeId="data-v-cdd9f6da";const nt=k(F),rt=[{name:"Main",path:"/",component:it,redirect(){const t=nt.state.currentListId;if(!nt.state.lists[t]){const t=Object.keys(nt.state.lists)[0];nt.commit("setCurrentListId",t)}return{path:`/list/${t}`}}},{name:"List",path:"/list/:listId",component:it,beforeEnter(t,e,s){const i="string"==typeof t.params.listId?t.params.listId:t.params.listId[0],o=nt.state.lists[i]?i:nt.state.currentListId;if(!nt.state.lists[o]){const t=Object.keys(nt.state.lists)[0];nt.commit("setCurrentListId",t)}s()}}],at=C({history:S(),routes:rt});at.beforeEach((t=>{"List"===t.name&&nt.commit("setCurrentListId",t.params.listId)})),R(Y).use(nt).use(at).mount("#app");
